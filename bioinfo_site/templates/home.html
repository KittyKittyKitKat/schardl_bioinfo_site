{# Copyright (c) 2023 Nyx Harris-Palmer, Tharanie Subramaniam #}
{% extends "layout.html" %}
{% block content %}
<div class="container-fluid p-3">
  <div class="row">
    <div class="col-12">
      <h3 class="text-center">
        Dimensions US-China: Collaborative Research:
        <br>
        Impacts of heritable plant-fungus symbiosis on phylogenetic, genetic and functional diversity.
      </h3>
      <h4 class="text-center">
        Sponsored by the National Science Foundation Division of Environmental Biology
      </h4>
    </div>
  </div>
  <hr class="border border-dark">
  <div class="row">
    <div class="col-7">
      <div id="home-slideshow" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          {% for i in range(images|length) %}
          <button
            type="button"
            data-bs-target="#home-slideshow"
            data-bs-slide-to="{{ loop.index0 }}"
            aria-label="Slide {{ loop.index }}"
            class="{{ 'active' if loop.first else ''}}"
            aria-current="{{ 'true' if loop.first else 'false'}}" >
          </button>
          {% endfor %}
        </div>
        <div class="carousel-inner">
          {% for image in images %}
          <div class="carousel-item {{ 'active' if loop.first else '' }} bg-dark">
            <div class="d-flex justify-content-center">
              <button
                class="btn btn-link"
                data-bs-toggle="modal"
                data-bs-target="#imageViewModal"
                data-bs-img-src="{{ url_for('static', filename='images/slideshow/' ~ image) }}"
              >
                <img
                  src="{{ url_for('static', filename='images/slideshow/' ~ image) }}"
                  class="d-block"
                  style="height: 600px; max-height: 600px !important;"
                >
              </button>
            </div>
          </div>
          {% endfor %}
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#home-slideshow"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#home-slideshow"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <div class="col-5">
      <p class="fs-5">
        This group and project seek to research a fungus that was shown to donate a disease resistance gene to a wild relative of wheat. This study employs cutting-edge methods in ecology, genomics and other biological sciences to research the diversity of plants and their seed-borne fungal partners in the U.S. and in China, a global hotspot for plant diversity. Results will guide efforts to preserve biological diversity and promote healthy, resilient and productive natural ecosystems, rangelands and pastures. Outputs to the public and the scientific community will enhance knowledge of plant-microbe symbiosis as a key dimension of diversity. The research and educational exchange activities strengthen and diversify scientific collaboration between scientists and students in China and the U.S., provide training to graduate students and postdocs in a broad range of biological and bioinformatic sciences, and integrate field, classroom, and lab activities for K-12 and undergraduate students to discover microscopic and macroscopic layers of biological complexity.
      </p>
    </div>
  </div>
</div>
<div class="modal fade" id="imageViewModal" tabindex="-1" data-bs-theme="dark">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body text-center">
        <img class="h-100">
      </div>
    </div>
  </div>
</div>
<script>
  let imageViewModal = document.getElementById('imageViewModal');
  if (imageViewModal) {
      imageViewModal.addEventListener('show.bs.modal', event => {
      let image_button = event.relatedTarget;
      let image_src = image_button.getAttribute('data-bs-img-src');
      let modal_image = imageViewModal.querySelector(
        '.modal-content .modal-body img'
      );
      modal_image.src = image_src;
    });
  }
</script>
{% endblock content %}